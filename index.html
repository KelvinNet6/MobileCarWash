<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mr.Bams Mobile Car Wash</title>
    <link rel="stylesheet" href="styles.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

</head>
<body>

    <header>
        <div class="header-content" id="header">
            <div class="logo">Mr.Bams<span>CARWASH</span></div>
            <nav>
                <ul>
                    <li class="dropdown">
                        <a href="#header">Home<span class="arrow">&#9660;</span></a>
                        <div class="dropdown-content">
                            <a href="#about">About </a>
                            <a href="#contact">Contact US</a>
                            <a href="#reviews">Reviews</a>
                            <a href="Booking.html">Booking</a>
                        </div>
                    </li>
                    <li class="dropdown">
                        <a href="#services">Services</a>
                        
                        </div>
                    </li>
                </ul>
            </nav>
            <div class="menu-toggle" id="menu-toggle">&#9776;</div>
        </div>
        <h1>Mr.BAMS MOBILE CAR <br>WASH SERVICES</h1>
        <p>Busy schedule? We make it easy to keep your car clean by <br>offering mobile washing services that come to you.</p>
    </header>

<!-- Sidebar -->
<div class="sidebar" id="sidebar">
    <ul>
        <li><a href="#about">About</a></li>
        <li><a href="#contact">Contact Us</a></li>
        <li><a href="#reviews">Reviews</a></li>
        <li><a href="Booking.html">Booking</a></li>
        <li><a href="#services">Services</a></li>
    </ul>
    <hr />
    <h2 class="sidebar-title">Mr.Bams Mobile Car Wash</h2> <!-- New Title Below Links -->
</div>

<!-- About Section --> 
 <section class="about-section" id="about">
    
    <div class="container-left">
        
        <div class="slideshow-container">
            <div class="mySlides fade">
                <img src="IMG-20250107-WA0016.jpg" alt="Car Wash Image 1">
            </div>
            <div class="mySlides fade">
                <img src="IMG-20250107-WA0024.jpg" alt="Car Wash Image 2">
            </div>
            <div class="mySlides fade">
                <img src="IMG-20250107-WA0015.jpg" alt="Car Wash Image 3">
            </div>
            <div class="mySlides fade">
                <img src="IMG-20250107-WA0023.jpg" alt="Car Wash Image 3">
            </div>
            <div class="mySlides fade">
                <img src="IMG-20250107-WA0017.jpg" alt="Car Wash Image 3">
            </div>
            <div class="mySlides fade">
                <img src="IMG-20250107-WA0037.jpg" alt="Car Wash Image 3">
            </div>
             <div class="mySlides fade">
                <img src="IMG-20250107-WA0042.jpg" alt="Car Wash Image 3">
            </div>
        </div>
    </div>
    
    <div class="container-right">

        <h2>About Us</h2>
        <p>At Mr. Bams Car Wash, we believe in quality service, convenience, and customer satisfaction. Our mobile services bring the car wash to you, whether you're at home or at work. We understand how busy life can get, and that's why we strive to make it easy for you to keep your vehicle clean without disrupting your schedule.</p>
        <br>
        <a href="About.html" class="btn">Learn More</a>
    </div>
</section>

 <!-- Services Section -->
 <section class="services-section" id="services">
    <h2>Our Services</h2>
    <div class="services-container">
        <div class="service-card">
            <img src="IMG-20250107-WA0051.jpg" alt="Service 1">
            <div class="service-content">
                <h3>Interior Car Wash</h3>
                <p>We provide professional interior cleaning services to keep your car's interior spotless and fresh.</p>
                <a href="Booking.html" class="btn"><i class="fas fa-car custom-car-icon"></i>Book Now</a>
            </div>
        </div>

        <div class="service-card">
            <img src="IMG-20250107-WA0049.jpg" alt="Service 2">
            <div class="service-content">
                <h3>Exterior Wash</h3>
                <p>Our exterior wash services will leave your car shining, spotless, and protected from the elements.</p>
                <a href="Booking.html" class="btn"><i class="fas fa-car custom-car-icon"></i>Book Now</a>
            </div>
        </div>

        <div class="service-card">
            
            <div class="slideshow-container">
                <div class="mySlides fade">
                    <img src="IMG-20250107-WA0026.jpg" alt="Service 3">
                </div>
                <div class="mySlides fade">
                    <img src="IMG-20250107-WA0033.jpg" alt="Service 3 - Image 2">
                </div>
                <div class="mySlides fade">
                    <img src="IMG-20250107-WA0028.jpg" alt="Service 3 - Image 3">
                </div>
                <div class="mySlides fade">
                    <img src="IMG-20250107-WA0031.jpg" alt="Service 3 - Image 3">
                </div>
                <div class="mySlides fade">
                    <img src="IMG-20250107-WA0045.jpg" alt="Service 3 - Image 3">
                </div>
                <div class="mySlides fade">
                    <img src="IMG-20250107-WA0046.jpg" alt="Service 3 - Image 3">
                </div>
                <div class="mySlides fade">
                    <img src="IMG-20250107-WA0052.jpg" alt="Service 3 - Image 3">
                </div>
                <div class="mySlides fade">
                    <img src="IMG-20250107-WA0054.jpg" alt="Service 3 - Image 3">
                </div>
                 <div class="mySlides fade">
                    <img src="IMG-20250107-WA0048.jpg" alt="Service 3 - Image 3">
                </div>
            </div>
        
            <div class="service-content">
                <h3>Full Car Wash</h3>
                <p>Get the ultimate clean with our full detailing service, covering both interior and exterior to perfection.</p>
                <a href="Booking.html" class="btn"><i class="fas fa-car custom-car-icon"></i>Book Now</a>
            </div>
        </div>
        
    </div>
</section>

<section class="social-media-section" id="contact">
    <div class="video-container">
        <video autoplay muted loop id="background-video">
            <source src="VID-20250107-WA0014.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <div class="social-media-container">
       <a href="https://www.facebook.com/profile.php?id=61571122833481" target="_blank" class="social-icon"><i class="fab fa-facebook-f"></i></a>
            <a href="https://wa.me/27751101765" target="_blank" class="social-icon"><i class="fab fa-whatsapp"></i></a>
            <a href="mailto:mrbamsmobilecarwash1@gmail.com" target="_blank" class="social-icon"><i class="fas fa-envelope"></i></a>
        <a href="https://www.tiktok.com" class="social-icon" target="_blank">
            <i class="fab fa-tiktok"></i> 
        </a>
        <a href="https://www.instagram.com/your-profile" class="social-icon" target="_blank">
            <i class="fab fa-instagram"></i> 
        </a>
    </div>
</section>

<section class="reviews-section" id="reviews">
    <h2>What Our Customers Say</h2>
    <div class="comment-container">
        <!-- Review Boxes will be displayed here -->
    </div>
    <script src="script.js"></script>
    <!-- "Review Us" Button -->
    <button id="open-review-popup" class="open-popup-btn">Review Us</button>

    <!-- Review Form Popup -->
    <div class="review-popup" id="review-popup">
        <div class="popup-content">
            <span id="close-popup" class="close-btn">&times;</span>
            <h3>Write a Review</h3>
            <input type="text" id="review-name" class="review-input" placeholder="Your Name" required>
            <textarea id="review-text" class="review-textarea" placeholder="Your Review" required></textarea>
            <button id="submit-review" class="submit-btn">Submit Review</button>
        </div>
    </div>
</section>

<script>
// Get elements
const commentContainer = document.querySelector('.comment-container');
const submitReviewBtn = document.getElementById('submit-review');
const reviewNameInput = document.getElementById('review-name');
const reviewTextInput = document.getElementById('review-text');
const reviewPopup = document.getElementById('review-popup');
const openPopupBtn = document.getElementById('open-review-popup');
const closePopupBtn = document.getElementById('close-popup');

const BASE_URL = 'https://script.google.com/macros/s/AKfycbwlarWSaj010DqKYZz8Hnr7nxWXhmb0_Y7_eqttOcK7Bim_m137sWJulw_UhUckbUlQhw/exec';

// Display the reviews
function displayReviews(reviews) {
    reviews.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp)); // Sort by most recent

    const recentReviews = reviews.slice(0, 3); // Show top 3
    commentContainer.innerHTML = ''; // Clear existing reviews

    recentReviews.forEach((review, index) => {
        const reviewBox = document.createElement('div');
        reviewBox.classList.add('comment');

        const reviewDate = new Date(review.timestamp).toLocaleString();

        reviewBox.innerHTML = `
            <div class="comment-header">${review.name}</div>
            <div class="comment-text">${review.text}</div>
            <div class="comment-date">${reviewDate}</div>
            <button class="like-btn" data-index="${index}">
                <i class="fas fa-thumbs-up"></i> Like (${review.likes || 0})
            </button>
        `;
        commentContainer.appendChild(reviewBox);
    });

    // Add click event listeners for like buttons
    const likeButtons = document.querySelectorAll('.like-btn');
    likeButtons.forEach((button, index) => {
        button.addEventListener('click', () => handleLikeClick(index, recentReviews[index]));
    });
}

// Fetch reviews from the server
async function fetchReviews() {
    try {
        const response = await fetch(BASE_URL); // GET request to fetch reviews
        if (response.ok) {
            const reviews = await response.json();
            displayReviews(reviews);
        } else {
            console.error('Failed to fetch reviews:', response.statusText);
        }
    } catch (error) {
        console.error('Error fetching reviews:', error);
    }
}

// Handle like button click
async function handleLikeClick(index, review) {
    try {
        const updatedLikes = (review.likes || 0) + 1; // Increment likes
        await fetch(BASE_URL, {
            method: 'PUT',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                rowIndex: index,
                likes: updatedLikes,
            }),
        });

        fetchReviews(); // Refresh reviews
    } catch (error) {
        console.error('Error updating likes:', error);
    }
}

// Submit a new review
async function submitReview(e) {
    e.preventDefault();

    const name = reviewNameInput.value.trim();
    const text = reviewTextInput.value.trim();

    if (name && text) {
        try {
            const newReview = { name, text };
            const response = await fetch(BASE_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(newReview),
            });

            if (response.ok) {
                fetchReviews(); // Refresh reviews
                reviewNameInput.value = '';
                reviewTextInput.value = '';
                reviewPopup.style.display = 'none'; // Close popup
            } else {
                alert('Failed to submit review. Please try again.');
            }
        } catch (error) {
            console.error('Error submitting review:', error);
        }
    } else {
        alert('Please fill in both fields to submit a review.');
    }
}

// Initialize the page
document.addEventListener('DOMContentLoaded', () => {
    fetchReviews();

    openPopupBtn.addEventListener('click', () => {
        reviewPopup.style.display = 'flex';
    });

    closePopupBtn.addEventListener('click', () => {
        reviewPopup.style.display = 'none';
    });

    submitReviewBtn.addEventListener('click', submitReview);
});
</script>
<script>

    let aboutSlideIndex = 0;
    function showAboutSlides() {
        const slides = document.querySelectorAll('.container-left .mySlides');
        
        for (let i = 0; i < slides.length; i++) {
            slides[i].style.display = "none"; 
        }
        aboutSlideIndex++;
        if (aboutSlideIndex > slides.length) { aboutSlideIndex = 1 }
        slides[aboutSlideIndex - 1].style.display = "block"; 
        setTimeout(showAboutSlides, 3000); 
    }

    let serviceSlideIndexes = {}; 
    function showServiceSlides() {

        const slideshowContainers = document.querySelectorAll('.service-card .slideshow-container');
        
        slideshowContainers.forEach((container, index) => {
            const slides = container.getElementsByClassName("mySlides");

            if (!serviceSlideIndexes[index]) {
                serviceSlideIndexes[index] = 0;
            }

            for (let i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }

            serviceSlideIndexes[index]++;
            if (serviceSlideIndexes[index] > slides.length) {
                serviceSlideIndexes[index] = 1;
            }

            slides[serviceSlideIndexes[index] - 1].style.display = "block";
        });

        setTimeout(showServiceSlides, 3000);
    }

    window.onload = function() {
        showAboutSlides();  
        showServiceSlides();
    };
</script>

<script>
const sidebar = document.querySelector('.sidebar');
const menuToggle = document.querySelector('.menu-toggle');
const sidebarLinks = document.querySelectorAll('.sidebar ul li a'); 

// Initially hide the sidebar
window.addEventListener('load', () => {
  sidebar.style.left = '-100%';  // Sidebar off-screen
});

// Toggle the sidebar visibility on menu toggle click
menuToggle.addEventListener('click', () => {
  if (sidebar.style.left === '-100%' || sidebar.style.left === '') {
    sidebar.style.left = '0';  // Show the sidebar
  } else {
    sidebar.style.left = '-100%';  // Hide the sidebar
  }
});

// Close sidebar when a link is clicked
sidebarLinks.forEach(link => {
  link.addEventListener('click', () => {
    sidebar.style.left = '-100%';  // Hide the sidebar when a link is clicked
  });
});

</script>
</body>
<footer>
    <div class="footer-container">
        <p>&copy; 2024 Mr.Bams Mobile Car Wash. All Rights Reserved.</p>
        
        <!-- Subscription Section -->
        <div class="subscription-section">
            <h3>Subscribe for Updates</h3>
            <form action="#" method="post" class="subscription-form">
                <input type="email" name="email" placeholder="Enter your email" required class="email-input">
                <button type="submit" class="subscribe-btn">Subscribe</button>
            </form>
        </div>
        
        <!-- Social Media Icons -->
        <div class="footer-social">
           <a href="https://www.facebook.com/profile.php?id=61571122833481" target="_blank" class="social-icon"><i class="fab fa-facebook-f"></i></a>
            <a href="https://wa.me/27751101765" target="_blank" class="social-icon"><i class="fab fa-whatsapp"></i></a>
            <a href="mailto:mrbamsmobilecarwash1@gmail.com" target="_blank" class="social-icon"><i class="fas fa-envelope"></i></a>
            <a href="https://www.tiktok.com" target="_blank" class="social-icon"><i class="fab fa-tiktok"></i></a>
            <a href="https://www.instagram.com" target="_blank" class="social-icon"><i class="fab fa-instagram"></i></a>
        </div>
    </div>
</footer>

</html>
