<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Wash Appointment Booking</title>
    <link rel="stylesheet" href="style.css"> <!-- Assuming your CSS is linked here -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.x.x/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <!-- Header Section -->
    <div class="header-container">
        <div class="left-container">
            <div class="logo-container">
                <span class="logo">Mr.Bams MobileCarWash</span>
            </div>
            <h1>Try Us Now</h1>
            <p>We bring the car wash to your doorstep. Convenient, reliable, professional, and affordable car wash services.</p>
        </div>
        <div class="right-container">
            <h2>Book a Car Wash Appointment</h2>
            <p>Click the Button Below to make a Booking with Mr.Bam Mobile Car Wash.</p>
            <!-- Book Now Button -->
            <button class="service-btn" onclick="openPopup()">
                <i class="fas fa-car custom-car-icon"></i> Book Now
            </button>
        </div>
    </div>

    <!-- Popup Form -->
    <div id="popup-form" class="popup-form" style="display: none;">
        <div class="popup-content">
            <span class="close-btn" onclick="closePopup()">Ã—</span>
            <h3>Book an Appointment</h3>
            <form id="appointment-form">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>

                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>

                <label for="service">Select Service:</label>
                <select id="service" name="service" required>
                    <option value="none">None</option>
                    <option value="interior">Interior Car Wash</option>
                    <option value="exterior">Exterior Car Wash</option>
                    <option value="full">Full Car Wash</option>
                </select>

                <label for="location">Location:</label>
                <input type="text" id="location" name="location" placeholder="Enter your location" required>

                <label for="date">Schedule Date:</label>
                <input type="date" id="date" name="date" required>

                <label for="time">Schedule Time:</label>
                <input type="time" id="time" name="time" required>

                <label for="message">Message:</label>
                <textarea id="message" name="message" placeholder="Additional requests..." rows="4"></textarea>

                <button type="submit">Book Appointment</button>
            </form>
        </div>
    </div>

    <script>
        // Function to open the popup form
        function openPopup() {
            document.getElementById("popup-form").style.display = "flex";
        }

        // Function to close the popup form
        function closePopup() {
            document.getElementById("popup-form").style.display = "none";
        }

        // Handle form submission
        document.getElementById("appointment-form").addEventListener("submit", function (e) {
            e.preventDefault();

            const name = document.getElementById("name").value;
            const email = document.getElementById("email").value;
            const service = document.getElementById("service").value;
            const location = document.getElementById("location").value;
            const date = document.getElementById("date").value;
            const time = document.getElementById("time").value;
            const message = document.getElementById("message").value;

            // Generate the invoice PDF using jsPDF
            generateInvoice(name, service, location, date, time);
            closePopup();
        });

        function generateInvoice(name, service, location, date, time) {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // Add invoice title and format the layout
            doc.setFontSize(18);
            doc.text("Invoice - Mr.Bams Mobile Car Wash", 105, 30, null, null, "center");

            // Set smaller font size for details
            doc.setFontSize(12);

            // Add details centered
            doc.text(`Client Name: ${name}`, 105, 50, null, null, "center");
            doc.text(`Service Type: ${service}`, 105, 60, null, null, "center");
            doc.text(`Location Address: ${location}`, 105, 70, null, null, "center");
            doc.text(`Scheduled Date: ${date}`, 105, 80, null, null, "center");
            doc.text(`Time Schedule: ${time}`, 105, 90, null, null, "center");

            // Service pricing logic
            let price = 0;
            if (service === "interior") price = 300;
            else if (service === "exterior") price = 250;
            else if (service === "full") price = 500;

            doc.text(`Price: $${price}`, 105, 120, null, null, "center");
            doc.text(`Total: $${price}`, 105, 130, null, null, "center");

            // Add account number for payment instructions
            doc.text("Account Number for Payment: +27815130009", 105, 140, null, null, "center");

            // Save the invoice as a PDF and offer it for download
            doc.save("invoice.pdf");

            // Notify the user that the invoice is ready for download
            alert("Booking confirmed! The invoice PDF will be downloaded.");
        }
    </script>
</body>
    <footer>
    <div class="footer-container">
        <p>&copy; 2024 Mr.Bams Mobile Car Wash. All Rights Reserved.</p>
        
        <!-- Subscription Section -->
        <div class="subscription-section">
            <h3>Subscribe for Updates</h3>
            <form action="#" method="post" class="subscription-form">
                <input type="email" name="email" placeholder="Enter your email" required class="email-input">
                <button type="submit" class="subscribe-btn">Subscribe</button>
            </form>
        </div>
        
        <!-- Social Media Icons -->
        <div class="footer-social">
           <a href="https://www.facebook.com/profile.php?id=61571122833481" target="_blank" class="social-icon"><i class="fab fa-facebook-f"></i></a>
            <a href="https://wa.me/27751101765" target="_blank" class="social-icon"><i class="fab fa-whatsapp"></i></a>
            <a href="mailto:mrbamsmobilecarwash1@gmail.com" target="_blank" class="social-icon"><i class="fas fa-envelope"></i></a>
            <a href="https://www.tiktok.com" target="_blank" class="social-icon"><i class="fab fa-tiktok"></i></a>
            <a href="https://www.instagram.com" target="_blank" class="social-icon"><i class="fab fa-instagram"></i></a>
        </div>
    </div>
</footer>
</html>
